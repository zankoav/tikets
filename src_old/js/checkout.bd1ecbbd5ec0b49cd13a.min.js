var checkout=(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{59:function(e,t){},60:function(e,t){},61:function(e,t){},64:function(e,t,o){"use strict";o.r(t);o(3),o(4),o(5),o(6),o(7),o(59);var a=o(1),s=o(11),r=o.n(s),n=o(0),l=o.n(n);let i=l()(".checkout__form").data("program-id"),_=l()(".promokod__price"),c=l()(".promokod__result"),p=parseInt(c.text()),d={},u=l()(".checkout-form-group__select option");for(let e of u)d[l()(e).val()]=l()(e).data("price");function m(){let e=l()(".checkout-form-group__select").find(":selected").val(),t=d[e];if(1===C)switch(E){case"percent":if(t){let e=p*parseFloat(t),o=e-e*(w/100);_.html(o.toFixed(2)+" ")}break;case"fixed_cart":if(t){let e=p*parseFloat(t)-w;_.html(e.toFixed(2)+" ")}break;case"fixed_product":if(t){let e=p*parseFloat(t)-p*w;_.html(e.toFixed(2)+" ")}}else{let e=p*parseFloat(t);_.html(e.toFixed(2)+" ")}}!function(){let e=l()(".checkout-form-group__apply"),t=l()('[name="user-promokod"]'),o=l()("#user-promokod").val(),s=l()("[data-program-id]").data("program-id"),r=l()("#user-tariff").find(":selected").val(),n={action:"checkCoupone",user_promocode:o,user_prod_tariff_id:r,user_prod_id:s};e.on("click",function(e){e.preventDefault();let o=t.val();console.log(o),l.a.ajax({type:"POST",url:tikets_ajax.url,data:n,success:function(e){console.log(e);let o=JSON.parse(e);if(console.log(o),C=(b=o).status,R=b.text,E=b.discount_type,w=b.coupon_amount,0===C){let e=t.parent().parent();return e.addClass("checkout-form-group_error"),void e.find(".checkout-form-group__message").html(R)}{let e=t.parent().parent();return e.addClass("checkout-form-group_green"),void e.find(".checkout-form-group__message").html(R)}},error:function(e,s,r){if(console.log(e),0===o.length){let e=t.parent().parent();return e.addClass("checkout-form-group_error"),void e.find(".checkout-form-group__message").html(a.a.ERROR_EMPTY_PROMOCODE_FIELD)}}})}),t.on("focus",k)}(),l()(".promokod__add").on("click",function(e){e.preventDefault(),p++,c.html(p),m()}),l()(".promokod__minus").on("click",function(e){e.preventDefault(),p>1&&(p--,c.html(p),m())}),l()(".checkout-form-group__select").on("change",function(){m()});let f=l()('[name="user-phone"]'),h=l()('[name="user-name"]'),v=l()('[name="user-email"]'),y=l()('[name="user-comment"]'),g=l()('[name="message"]');function k(){let e=l()(this).parent().parent();e.hasClass("checkout-form-group_error")&&e.removeClass("checkout-form-group_error")}f.on("focus",k),h.on("focus",k),v.on("focus",k),r()({regex:String.raw`^\+375 (17|25|29|33|44) [0-9]{3} [0-9]{2} [0-9]{2}$`}).mask(f[0]),l()(".promokod__button-chekout").on("click",function(e){e.preventDefault();let t=f.val(),o=h.val(),s=v.val(),r=y.val(),n=l()(".checkout-form-group__select").find(":selected").val(),_=g.val();if(0===t.length){let e=f.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);let t=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:t},400)}if(!a.a.phone(t)){let e=f.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(a.a.ERROR_PHONE_FORMAT_FIELD);let t=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:t},400)}if(0===o.length){let e=h.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);let t=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:t},400)}if(0===s.length){let e=v.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);let t=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:t},400)}if(!a.a.email(s)){let e=v.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(a.a.ERROR_EMAIL_FIELD);let t=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:t},400)}c={programId:i,ticketCount:p,tariffId:n,name:o,email:s,message:_,phone:t,comment:r,action:"createOrder"},console.log("send data",c),l.a.ajax(tikets_ajax.url,{data:c,method:"post",dataType:"json",beforeSend:function(){l()(".preloader").addClass("preloader_active")},success:function(e){console.log(e),function(e){let t=document.createElement("form");t.method="POST",console.log("check: "+e.w_t),t.action="https://securesandbox.webpay.by/";for(let o in e){let a=document.createElement("input");a.value=e[o],a.name=o,t.appendChild(a)}document.body.appendChild(t),t.submit()}(e),l()(".preloader").removeClass("preloader_active")},error:function(e){console.log(e),l()(".preloader").removeClass("preloader_active"),alert("Error connection.\n Please try again later.")}});var c});var b=[],C=null,R=null,E=null,w=null;l()("#form2").submit(function(e){e.preventDefault();let t=l()(this).find("[name*='name']").val(),o=l()(this).find("[name*='komp']").val(),s=l()(this).find("[name*='col']").val();if(0===t.length)return console.log("name",a.a.ERROR_EMPTY_FIELD),void l()(this).find("[name*='name']").addClass("input_error");if(l()(this).find("[name*='name']").removeClass("input_error"),0===t.length)return console.log("komp",a.a.ERROR_EMPTY_FIELD),void l()(this).find("[name*='komp']").addClass("input_error");if(l()(this).find("[name*='komp']").removeClass("input_error"),0===t.length)return console.log("col",a.a.ERROR_EMPTY_FIELD),void l()(this).find("[name*='col']").addClass("input_error");l()(this).find("[name*='col']").removeClass("input_error");let r={action:"sendForm",name:t,komp:o,col:s};l.a.ajax({type:"POST",url:kompSendMail.url,data:r,success:function(e){console.log(e);JSON.parse(e);l()("#form2")[0].reset()}})});o(60);l()(".pay-type__options-item-input").on("change",function(){"1"==l()(".pay-type__options-item-input:checked").attr("id")?(l()(".promokod__button-chekout").css("display","block"),l()(".promokod__button-chekout-pay").css("display","none")):(l()(".promokod__button-chekout").css("display","none"),l()(".promokod__button-chekout-pay").css("display","block"))});o(12),o(18),o(61);l()(document).ready(function(){l()(".types__list-tab").removeClass("types__list-tab_active"),l()(".types__list-tab:nth-child(1)").addClass("types__list-tab_active"),l()(".types__content:nth-child(1)").addClass("types__content_active")}),l()(".types__list-tab").on("click",function(e){if(e.preventDefault(),l()(window).width()<740){if(l()(".types__list-tab").slideDown(),l()(".types__wrapper-list").addClass("types__wrapper-list_active"),!l()(this).hasClass("types__list-tab_active")){l()(".types__list-tab").addClass("types__list-tab-js").removeClass("types__list-tab_active"),l()(this).removeClass("types__list-tab-js").addClass("types__list-tab_active").removeAttr("style");let e=l()(this).data("content");l()(".types__content").removeClass("types__content_active"),l()(l()(".types__content")[e]).addClass("types__content_active"),l()(".types__list-tab-js").slideUp(function(){l()(this).removeClass("types__list-tab-js").removeAttr("style")}),l()(".types__wrapper-list").removeClass("types__wrapper-list_active")}}else if(!l()(this).hasClass("types__list-tab_active")){l()(".types__list-tab").removeClass("types__list-tab_active"),l()(this).addClass("types__list-tab_active");let e=l()(this).data("content");l()(".types__content").removeClass("types__content_active"),l()(l()(".types__content")[e]).addClass("types__content_active")}}),l()(".types__button").on("click",function(e){e.preventDefault(),l()(window).width()<740&&(l()(".types__wrapper-list").hasClass("types__wrapper-list_active")?(l()(".types__wrapper-list").removeClass("types__wrapper-list_active"),l()(".types__list-tab").addClass("types__list-tab-js"),l()(".types__list-tab_active").removeClass("types__list-tab-js"),l()(".types__list-tab-js").slideUp(function(){l()(this).removeClass("types__list-tab-js").removeAttr("style")})):(l()(".types__wrapper-list").addClass("types__wrapper-list_active"),l()(".types__list-tab").slideDown()))})}},[[64,0]]]);