var checkout = (window.webpackJsonp_name_ = window.webpackJsonp_name_ || []).push([[2], {
    66: function (e, t) {
    }, 67: function (e, t) {
    }, 68: function (e, t) {
    }, 71: function (e, t, o) {
        "use strict";
        o.r(t);
        o(2), o(3), o(4), o(5), o(8), o(66);
        var a = o(1), s = o(12), r = o.n(s), n = o(0), l = o.n(n);
        let i = l()(".types__form").data("program-id"), _ = l()(".promokod__price"), p = l()(".promokod__result"),
            c = parseInt(p.text()), d = {}, u = l()(".checkout-form-group__select option");
        for (let e of u) d[l()(e).val()] = l()(e).data("price");
        !function () {
            let e = l()(".checkout-form-group__apply"), t = l()('[name="user-promokod"]'),
                o = l()("[data-program-id]").data("program-id"), s = {
                    action: "checkCoupone",
                    user_promocode: "",
                    user_prod_tariff_id: l()("#user-tariff").find(":selected").val(),
                    user_prod_id: o
                };
            e.on("click", function (e) {
                e.preventDefault(), s.user_promocode = l()("#user-promokod").val();
                let o = s.user_promocode;
                console.log(o), l.a.ajax({
                    type: "POST", url: tikets_ajax.url, data: s, success: function (e) {
                        console.log(e);
                        let o = JSON.parse(e);
                        if (console.log(o), g = (v = o).status, y = v.text, k = v.discount_type, C = v.coupon_amount, 0 === g) {
                            let e = t.parent().parent();
                            return e.addClass("checkout-form-group_error"), void e.find(".checkout-form-group__message").html(y)
                        }
                        {
                            let e = t.parent().parent();
                            return e.addClass("checkout-form-group_green"), void e.find(".checkout-form-group__message").html(y)
                        }
                    }, error: function (e, s, r) {
                        if (console.log(e), 0 === o.length) {
                            let e = t.parent().parent();
                            return e.addClass("checkout-form-group_error"), void e.find(".checkout-form-group__message").html(a.a.ERROR_EMPTY_PROMOCODE_FIELD)
                        }
                    }
                })
            }), t.on("focus", j)
        }(), function () {
            let e = l()(".bit_item"),
                t = {action: "getDiscontByCount", user_prod_id: l()("[data-program-id]").data("program-id")};
            e.on("click", function (e) {
                e.preventDefault(), l.a.ajax({
                    type: "POST", url: tikets_ajax.url, data: t, success: function (e) {
                        console.log(e);
                        let t = JSON.parse(e);
                        console.log(t), (m = t).status, m.text, f = m.disconts
                    }, error: function (e, t, o) {
                        console.log(e), l()(".partnership__response").text("ОШИБКА!")
                    }
                })
            })
        }(), l()(".bit_item").click(), l()(".promokod__add").on("click", function (e) {
            e.preventDefault(), c++, p.html(c), h()
        }), l()(".promokod__minus").on("click", function (e) {
            e.preventDefault(), c > 1 && (c--, p.html(c), h())
        }), l()(".checkout-form-group__select").on("change", function () {
            h()
        });
        var m = [], f = null;

        function h() {
            let e = l()(".checkout-form-group__select").find(":selected").val(), t = d[e], o = m;
            if (1 === g) switch (k) {
                case"percent":
                    if (t) {
                        let e = c * parseFloat(t), o = e - e * (C / 100);
                        _.html(o.toFixed(2) + " ")
                    }
                    break;
                case"fixed_cart":
                    if (t) {
                        let e = c * parseFloat(t) - C;
                        _.html(e.toFixed(2) + " ")
                    }
                    break;
                case"fixed_product":
                    if (t) {
                        let e = c * parseFloat(t) - c * C;
                        _.html(e.toFixed(2) + " ")
                    }
            } else if (1 === o.status) for (let e = 0; e < f.length; e++) {
                if (c >= +f[e].quantity_from && c <= +f[e].quantity_to) {
                    let o = c * parseFloat(t) - +f[e].discount;
                    _.html(o.toFixed(2) + " ");
                    break
                }
                {
                    let e = c * parseFloat(t);
                    _.html(e.toFixed(2) + " ")
                }
            } else {
                let e = c * parseFloat(t);
                _.html(e.toFixed(2) + " ")
            }
        }

        var v = [], g = null, y = null, k = null, C = null;
        l()(".types__button-chekout").on("click", function (e) {
            e.preventDefault(), console.log("gg");
            let t = b.val(), o = R.val(), s = E.val(), r = w.val(), n = F.val();
            if (0 === t.length) return console.log("name", a.a.ERROR_EMPTY_FIELD), void l()(this).find("[name*='name']").addClass("input_error");
            l()(this).find("[name*='name']").removeClass("input_error");
            if (0 === t.length) return console.log("komp", a.a.ERROR_EMPTY_FIELD), void l()(this).find("[name*='komp']").addClass("input_error");
            l()(this).find("[name*='komp']").removeClass("input_error");
            if (0 === t.length) return console.log("col", a.a.ERROR_EMPTY_FIELD), void l()(this).find("[name*='col']").addClass("input_error");
            l()(this).find("[name*='col']").removeClass("input_error");
            if (0 === r.length) return console.log("phone", a.a.ERROR_EMPTY_FIELD), void l()(this).find("[name*='phone']").addClass("input_error");
            l()(this).find("[name*='phone']").removeClass("input_error");
            if (!a.a.phone(r)) return console.log("phone", a.a.ERROR_PHONE_FORMAT_FIELD), void l()(this).find("[name*='phone']").addClass("input_error");
            l()(this).find("[name*='phone']").removeClass("input_error");
            if (0 === n.length) return console.log("email", a.a.ERROR_EMPTY_FIELD), void l()(this).find("[name*='email']").addClass("input_error");
            l()(this).find("[name*='email']").removeClass("input_error");
            if (!a.a.email(n)) return console.log("email", a.a.ERROR_EMAIL_FIELD), void l()(this).find("[name*='email']").addClass("input_error");
            l()(this).find("[name*='email']").removeClass("input_error");
            let _ = {action: "sendFormTo", name: t, komp: o, col: s, phone: r, email: n, programId: i};
            l.a.ajax({
                type: "POST", url: tikets_ajax.url, data: _, success: function (e) {
                    console.log(e);
                    JSON.parse(e);
                    l()("#form2")[0].reset()
                }
            })
        });
        let b = l()("[name='name']"), R = l()("[name='komp']"), E = l()("[name='col']"), w = l()("[name='phone']"),
            F = l()("[name='email']"), O = l()('[name="user-phone"]'), D = l()('[name="user-name"]'),
            x = l()('[name="user-email"]'), I = l()('[name="user-comment"]'), T = l()('[name="message"]');

        function j() {
            let e = l()(this).parent().parent();
            e.hasClass("checkout-form-group_error") && e.removeClass("checkout-form-group_error")
        }

        O.on("focus", j), D.on("focus", j), x.on("focus", j),
            r()({regex: String.raw`^\+375 (17|25|29|33|44) [0-9]{3} [0-9]{2} [0-9]{2}$`}).mask(w[0]), //, Ow[0]
            l()(".promokod__button-chekout").on("click", function (e) {
            e.preventDefault();
            let t = O.val(), o = D.val(), s = x.val(), r = I.val(),
                n = l()(".checkout-form-group__select").find(":selected").val(), _ = T.val();
            if (0 === t.length) {
                let e = O.parent().parent();
                e.addClass("checkout-form-group_error"), e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);
                let t = e.offset().top - l()(".header").height() - 40;
                return void l()("html, body").animate({scrollTop: t}, 400)
            }
            if (!a.a.phone(t)) {
                let e = O.parent().parent();
                e.addClass("checkout-form-group_error"), e.find(".checkout-form-group__message").html(a.a.ERROR_PHONE_FORMAT_FIELD);
                let t = e.offset().top - l()(".header").height() - 40;
                return void l()("html, body").animate({scrollTop: t}, 400)
            }
            if (0 === o.length) {
                let e = D.parent().parent();
                e.addClass("checkout-form-group_error"), e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);
                let t = e.offset().top - l()(".header").height() - 40;
                return void l()("html, body").animate({scrollTop: t}, 400)
            }
            if (0 === s.length) {
                let e = x.parent().parent();
                e.addClass("checkout-form-group_error"), e.find(".checkout-form-group__message").html(a.a.ERROR_REQUIRE_FIELD);
                let t = e.offset().top - l()(".header").height() - 40;
                return void l()("html, body").animate({scrollTop: t}, 400)
            }
            if (!a.a.email(s)) {
                let e = x.parent().parent();
                e.addClass("checkout-form-group_error"), e.find(".checkout-form-group__message").html(a.a.ERROR_EMAIL_FIELD);
                let t = e.offset().top - l()(".header").height() - 40;
                return void l()("html, body").animate({scrollTop: t}, 400)
            }
            p = {
                programId: i,
                ticketCount: c,
                tariffId: n,
                name: o,
                email: s,
                message: _,
                phone: t,
                comment: r,
                action: "createOrder"
            }, console.log("send data", p), l.a.ajax(tikets_ajax.url, {
                data: p,
                method: "post",
                dataType: "json",
                beforeSend: function () {
                    l()(".preloader").addClass("preloader_active")
                },
                success: function (e) {
                    console.log(e), function (e) {
                        let t = document.createElement("form");
                        t.method = "POST", console.log("check: " + e.w_t), t.action = "https://securesandbox.webpay.by/";
                        for (let o in e) {
                            let a = document.createElement("input");
                            a.value = e[o], a.name = o, t.appendChild(a)
                        }
                        document.body.appendChild(t), t.submit()
                    }(e), l()(".preloader").removeClass("preloader_active")
                },
                error: function (e) {
                    console.log(e), l()(".preloader").removeClass("preloader_active"), alert("Error connection.\n Please try again later.")
                }
            });
            var p
        });
        o(67);
        l()(".pay-type__options-item-input").on("change", function () {
            "1" == l()(".pay-type__options-item-input:checked").attr("id") ? (l()(".promokod__button-chekout").css("display", "block"), l()(".promokod__button-chekout-pay").css("display", "none")) : (l()(".promokod__button-chekout").css("display", "none"), l()(".promokod__button-chekout-pay").css("display", "block"))
        });
        o(10), o(25), o(68);
        l()(document).ready(function () {
            l()(".types__list-tab").removeClass("types__list-tab_active"), l()(".types__list-tab:nth-child(1)").addClass("types__list-tab_active"), l()(".types__content:nth-child(1)").addClass("types__content_active")
        }), l()(".types__list-tab").on("click", function (e) {
            if (e.preventDefault(), l()(window).width() < 740) {
                if (l()(".types__list-tab").slideDown(), l()(".types__wrapper-list").addClass("types__wrapper-list_active"), !l()(this).hasClass("types__list-tab_active")) {
                    l()(".types__list-tab").addClass("types__list-tab-js").removeClass("types__list-tab_active"), l()(this).removeClass("types__list-tab-js").addClass("types__list-tab_active").removeAttr("style");
                    let e = l()(this).data("content");
                    l()(".types__content").removeClass("types__content_active"), l()(l()(".types__content")[e]).addClass("types__content_active"), l()(".types__list-tab-js").slideUp(function () {
                        l()(this).removeClass("types__list-tab-js").removeAttr("style")
                    }), l()(".types__wrapper-list").removeClass("types__wrapper-list_active")
                }
            } else if (!l()(this).hasClass("types__list-tab_active")) {
                l()(".types__list-tab").removeClass("types__list-tab_active"), l()(this).addClass("types__list-tab_active");
                let e = l()(this).data("content");
                l()(".types__content").removeClass("types__content_active"), l()(l()(".types__content")[e]).addClass("types__content_active")
            }
        }), l()(".types__button").on("click", function (e) {
            e.preventDefault(), l()(window).width() < 740 && (l()(".types__wrapper-list").hasClass("types__wrapper-list_active") ? (l()(".types__wrapper-list").removeClass("types__wrapper-list_active"), l()(".types__list-tab").addClass("types__list-tab-js"), l()(".types__list-tab_active").removeClass("types__list-tab-js"), l()(".types__list-tab-js").slideUp(function () {
                l()(this).removeClass("types__list-tab-js").removeAttr("style")
            })) : (l()(".types__wrapper-list").addClass("types__wrapper-list_active"), l()(".types__list-tab").slideDown()))
        })
    }
}, [[71, 0]]]);