var checkout=(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{55:function(e,o){},61:function(e,o,t){"use strict";t.r(o);t(3),t(4),t(5),t(6),t(7),t(55);var r=t(1),a=t(10),n=t.n(a),c=t(0),l=t.n(c);let s=l()(".checkout__form").data("program-id"),u=l()(".promokod__price"),m=l()(".promokod__result"),i=parseInt(m.text()),p={},f=l()(".checkout-form-group__select option");for(let e of f)p[l()(e).val()]=l()(e).data("price");function h(){let e=l()(".checkout-form-group__select").find(":selected").val(),o=p[e];if(o){let e=i*parseFloat(o);u.html(e.toFixed(2)+" ")}}l()(".promokod__add").on("click",function(e){e.preventDefault(),i++,m.html(i),h()}),l()(".promokod__minus").on("click",function(e){e.preventDefault(),i>1&&(i--,m.html(i),h())}),l()(".checkout-form-group__select").on("change",function(){h()});let d=l()('[name="user-phone"]'),_=l()('[name="user-name"]'),g=l()('[name="user-email"]'),k=l()('[name="user-comment"]'),R=l()('[name="message"]');function v(){let e=l()(this).parent().parent();e.hasClass("checkout-form-group_error")&&e.removeClass("checkout-form-group_error")}d.on("focus",v),_.on("focus",v),g.on("focus",v),n()({regex:String.raw`^\+375 (17|25|29|33|44) [0-9]{3} [0-9]{2} [0-9]{2}$`}).mask(d[0]),l()(".promokod__button-chekout").on("click",function(e){e.preventDefault();let o=d.val(),t=_.val(),a=g.val(),n=k.val(),c=l()(".checkout-form-group__select").find(":selected").val(),u=R.val();if(0===o.length){let e=d.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.phone(o)){let e=d.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_PHONE_FORMAT_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===t.length){let e=_.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===a.length){let e=g.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.email(a)){let e=g.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_EMAIL_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}m={programId:s,ticketCount:i,tariffId:c,name:t,email:a,message:u,phone:o,comment:n,action:"createOrder"},console.log("send data",m),l.a.ajax(tikets_ajax.url,{data:m,method:"post",dataType:"json",success:function(e){console.log(e),alert("Success"),1===e.status?console.log("Successful"):console.log("Error connection.\n Please try again later.")},error:function(e){console.log(e),alert("Error connection.\n Please try again later.")}});var m});t(13)}},[[61,0]]]);