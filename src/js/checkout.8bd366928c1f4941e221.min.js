var checkout=(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{55:function(e,o){},61:function(e,o,t){"use strict";t.r(o);t(3),t(4),t(5),t(6),t(7),t(55);var r=t(1),a=t(10),n=t.n(a),c=t(0),l=t.n(c);let m=l()(".checkout__form").data("program-id"),s=l()(".promokod__price"),u=l()(".promokod__result"),p=parseInt(u.text()),i={},d=l()(".checkout-form-group__select option");for(let e of d)i[l()(e).val()]=l()(e).data("price");function f(){let e=l()(".checkout-form-group__select").find(":selected").val(),o=i[e];if(o){let e=p*parseFloat(o);s.html(e.toFixed(2)+" ")}}l()(".promokod__add").on("click",function(e){e.preventDefault(),p++,u.html(p),f()}),l()(".promokod__minus").on("click",function(e){e.preventDefault(),p>1&&(p--,u.html(p),f())}),l()(".checkout-form-group__select").on("change",function(){f()});let h=l()('[name="user-phone"]'),_=l()('[name="user-name"]'),g=l()('[name="user-email"]'),k=l()('[name="user-comment"]'),R=l()('[name="message"]');function v(){let e=l()(this).parent().parent();e.hasClass("checkout-form-group_error")&&e.removeClass("checkout-form-group_error")}h.on("focus",v),_.on("focus",v),g.on("focus",v),n()({regex:String.raw`^\+375 (17|25|29|33|44) [0-9]{3} [0-9]{2} [0-9]{2}$`}).mask(h[0]),l()(".promokod__button-chekout").on("click",function(e){e.preventDefault();let o=h.val(),t=_.val(),a=g.val(),n=k.val(),c=l()(".checkout-form-group__select").find(":selected").val(),s=R.val();if(0===o.length){let e=h.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.phone(o)){let e=h.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_PHONE_FORMAT_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===t.length){let e=_.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===a.length){let e=g.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.email(a)){let e=g.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_EMAIL_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}u={programId:m,ticketCount:p,tariffId:c,name:t,email:a,message:s,phone:o,comment:n,action:"createOrder"},console.log("send data",u),l.a.ajax(tikets_ajax.url,{data:u,method:"post",dataType:"json",success:function(e){console.log(e),function(e){let o=document.createElement("form");o.method="POST",o.action="https://securesandbox.webpay.by/";for(let t in e){let r=document.createElement("input");r.value=e[t],r.name=t,o.appendChild(r)}document.body.appendChild(o),o.submit()}(e)},error:function(e){console.log(e),alert("Error connection.\n Please try again later.")}});var u});t(13)}},[[61,0]]]);