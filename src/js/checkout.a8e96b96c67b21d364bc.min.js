var checkout=(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[2],{58:function(e,o){},59:function(e,o){},62:function(e,o,t){"use strict";t.r(o);t(3),t(4),t(5),t(6),t(7),t(58);var r=t(1),a=t(11),n=t.n(a),c=t(0),l=t.n(c);let s=l()(".checkout__form").data("program-id"),p=l()(".promokod__price"),u=l()(".promokod__result"),m=parseInt(u.text()),i={},d=l()(".checkout-form-group__select option");for(let e of d)i[l()(e).val()]=l()(e).data("price");function h(){let e=l()(".checkout-form-group__select").find(":selected").val(),o=i[e];if(o){let e=m*parseFloat(o);p.html(e.toFixed(2)+" ")}}l()(".promokod__add").on("click",function(e){e.preventDefault(),m++,u.html(m),h()}),l()(".promokod__minus").on("click",function(e){e.preventDefault(),m>1&&(m--,u.html(m),h())}),l()(".checkout-form-group__select").on("change",function(){h()});let _=l()('[name="user-phone"]'),f=l()('[name="user-name"]'),k=l()('[name="user-email"]'),g=l()('[name="user-comment"]'),v=l()('[name="message"]');function R(){let e=l()(this).parent().parent();e.hasClass("checkout-form-group_error")&&e.removeClass("checkout-form-group_error")}_.on("focus",R),f.on("focus",R),k.on("focus",R),n()({regex:String.raw`^\+375 (17|25|29|33|44) [0-9]{3} [0-9]{2} [0-9]{2}$`}).mask(_[0]),l()(".promokod__button-chekout").on("click",function(e){e.preventDefault();let o=_.val(),t=f.val(),a=k.val(),n=g.val(),c=l()(".checkout-form-group__select").find(":selected").val(),p=v.val();if(0===o.length){let e=_.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.phone(o)){let e=_.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_PHONE_FORMAT_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===t.length){let e=f.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(0===a.length){let e=k.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_REQUIRE_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}if(!r.a.email(a)){let e=k.parent().parent();e.addClass("checkout-form-group_error"),e.find(".checkout-form-group__message").html(r.a.ERROR_EMAIL_FIELD);let o=e.offset().top-l()(".header").height()-40;return void l()("html, body").animate({scrollTop:o},400)}u={programId:s,ticketCount:m,tariffId:c,name:t,email:a,message:p,phone:o,comment:n,action:"createOrder"},console.log("send data",u),l.a.ajax(tikets_ajax.url,{data:u,method:"post",dataType:"json",beforeSend:function(){l()(".preloader").addClass("preloader_active")},success:function(e){console.log(e),function(e){let o=document.createElement("form");o.method="POST",console.log("check: "+e.w_t),o.action="https://securesandbox.webpay.by/";for(let t in e){let r=document.createElement("input");r.value=e[t],r.name=t,o.appendChild(r)}document.body.appendChild(o),o.submit()}(e),l()(".preloader").removeClass("preloader_active")},error:function(e){console.log(e),l()(".preloader").removeClass("preloader_active"),alert("Error connection.\n Please try again later.")}});var u});t(59);l()(".pay-type__options-item-input").on("change",function(){"1"==l()(".pay-type__options-item-input:checked").attr("id")?(l()(".promokod__button-chekout").css("display","block"),l()(".promokod__button-chekout-pay").css("display","none")):(l()(".promokod__button-chekout").css("display","none"),l()(".promokod__button-chekout-pay").css("display","block"))});t(12),t(18)}},[[62,0]]]);